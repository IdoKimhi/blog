{% extends 'base.html' %}
{% block content %}
  <section class="hero">
    <div class="hero-meta">
      <span>NEW POST</span>
      <span class="issue">#001</span>
      <span class="issue">VISITS {{ visit_count }}</span>
    </div>
    <h1>On the Blog</h1>
    <p class="hero-subtitle">Thoughtful notes, creative work, and studio updates.</p>
  </section>

  {% if posts %}
    <section class="post-grid">
      {% for post in posts %}
        <article class="post-card">
          {% if post['image_url'] %}
            <img class="post-image" src="{{ post['image_url'] }}" alt="{{ post['title'] }}" />
          {% else %}
            <div class="post-image placeholder"></div>
          {% endif %}
          <div class="post-body">
            <h2><a href="{{ url_for('post_detail', post_id=post['id']) }}">{{ post['title'] }}</a></h2>
            <p class="meta">{{ post['created_at'] }}</p>
            <p>{{ post['content'][:220] }}{% if post['content']|length > 220 %}...{% endif %}</p>
            <a class="text-link" href="{{ url_for('post_detail', post_id=post['id']) }}">Read more</a>
          </div>
        </article>
      {% endfor %}
    </section>
  {% else %}
    <div class="empty-state">
      <h3>No posts yet</h3>
      <p>Create your first post from the admin panel.</p>
    </div>
  {% endif %}
{% endblock %}
